{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst STORAGE_KEY = 'feedback-form-state';\nconst form = document.querySelector('.feedback-form');\nconst formElements = [form.elements['email'], form.elements['message']];\n\nconst extractFormData = () =>\n  formElements.reduce((acc, element) => {\n    return { ...acc, [element.name]: element.value.trim() };\n  }, {});\n\nconst applyFormData = formData =>\n  formElements.forEach(\n    element => (element.value = formData[element.name] || '')\n  );\n\nfunction onInputData() {\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(extractFormData()));\n}\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n\n  console.log(extractFormData());\n\n  localStorage.removeItem(STORAGE_KEY);\n  event.currentTarget.reset();\n}\n\napplyFormData(JSON.parse(localStorage.getItem(STORAGE_KEY)) || {});\n\nform.addEventListener('input', throttle(onInputData, 500));\nform.addEventListener('submit', onFormSubmit);\n"],"names":["STORAGE_KEY","form","formElements","extractFormData","acc","element","applyFormData","formData","onInputData","onFormSubmit","event","throttle"],"mappings":"wIAEA,MAAMA,EAAc,sBACdC,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAe,CAACD,EAAK,SAAS,MAAUA,EAAK,SAAS,OAAU,EAEhEE,EAAkB,IACtBD,EAAa,OAAO,CAACE,EAAKC,KACjB,CAAE,GAAGD,EAAK,CAACC,EAAQ,IAAI,EAAGA,EAAQ,MAAM,KAAI,IAClD,CAAE,CAAA,EAEDC,EAAgBC,GACpBL,EAAa,QACXG,GAAYA,EAAQ,MAAQE,EAASF,EAAQ,IAAI,GAAK,EAC1D,EAEA,SAASG,GAAc,CACrB,aAAa,QAAQR,EAAa,KAAK,UAAUG,EAAiB,CAAA,CAAC,CACrE,CAEA,SAASM,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EAEpB,QAAQ,IAAIP,EAAe,CAAE,EAE7B,aAAa,WAAWH,CAAW,EACnCU,EAAM,cAAc,OACtB,CAEAJ,EAAc,KAAK,MAAM,aAAa,QAAQN,CAAW,CAAC,GAAK,CAAA,CAAE,EAEjEC,EAAK,iBAAiB,QAASU,EAASH,EAAa,GAAG,CAAC,EACzDP,EAAK,iBAAiB,SAAUQ,CAAY"}